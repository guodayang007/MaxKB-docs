# 工具库

!!! Abstract ""
    GTAI 支持用户根据自身的业务需求，通过内置工具或自定义工具对获取和查询数据，逻辑判断、信息提取或其它场景的操作。
    工具创建完成后，在应用编排时以添加组件的方式调用这些工具，从而更好地满足各种复杂的业务需求。这种组件化的设计不仅提高了工作效率，还使得整个系统更加模块化，便于维护和扩展。      


## 1.内置工具

!!! Abstract ""
    GTAI 支持内置工具库，目前包括数据库查询以及页面搜索两种常见的类型，具体包括如下内置工具：

    - MySQL 查询
    - PostgreSQL 查询
    - 博查搜索
    - Google Search
    - LangSearch

![内置工具](../../img/fx/system_fx.png)

!!! Abstract ""
    内置工具添加到工具库后，需要配置启动参数，例如数据库连接信息、API Key等，并启用后才可以在工作流应用中使用。

![启动工具](../../img/fx/system_func_params1.png){width="800px"}
![启动工具](../../img/fx/system_func_params2.png)

## 2.自定义工具

### 2.1 工具依赖包安装

!!! Abstract ""
    如果工具实现需要安装第三方依赖包，可在 GTAI 容器中使用 pip 命令进行安装。

    ```
    # 进入 GTAI 容器中
    docker exec -it maxkb bash

    # pip安装第三方依赖，如 pymysql，执行下面命令
    pip install pymysql 
    ```


### 2.2 工具创建


!!! Abstract ""
    点击【创建工具】，打开创建工具对话框。

    - 工具名称：工具的 logo 以及工具名称，便于识别。工具 logo 在保存后可自定义上传。     
    - 描述：工具详细说明以及使用注意事项，会显示在工作流应用的组件列表中。
    - 启动参数：启用参数即工具运行的必要参数，例如 API Key等。将启动参数与输入参数分离，在工作流中仅关注输入参数，同时也避免关键信息的泄露。
    - 输入参数：工具的输入参数，参数的数据类别包括：string、int、float、array，可自定义赋值，也可引用参数。 
    - 工具内容：自定义编写 Python 工具代码，可以引用输入变量。  
    - 输出参数：Python 代码执行返回的结果。


![创建工具](../../img/fx/add_fx.png){width="600px"}

!!! Abstract ""
    Python 代码编写完成后，点击【调试】进行代码功能的验证。调试完成后，点击【创建】，即完成工具的创建。  
![工具调试](../../img/fx/fx_debug.png)

!!! Abstract ""
    创建成功的工具，可以在【工作流应用】的设置中，点击【添加组件】->【工具库】中，以添加组件的方式调用这些工具。

![添加工具节点](../../img/fx/use_fx.png)

## 3.工具导出/导入
    
!!! Abstract ""
    工具支持导出和导入，对应的文件后缀为 `.fx`。

![工具导入导出](../../img/fx/import_export_dx.png)
    

## 4.复制工具

!!! Abstract ""
    点击工具面板的【复制】按钮，打开复制工具对话框，对原工具内容进行编辑修改后点击【创建】即可快速创建一个新工具。

![复制工具](../../img/fx/copy_fx.png)

## 5.删除工具

!!! Abstract ""
    点击工具面板的【删除】按钮，即可对工具进行删除。

![删除工具](../../img/fx/del_fx.png)
!!! Abstract ""

    **注意：** 工具删除后，如果应用引用了该工具，那么在编排页面将显示`该工具不可用`的提示信息，并且在问答时也会报错。 

<!-- ![应用引用已删除工具](../../img/fx/use_del_fx.png) -->
